{% extends 'base.html' %}

{% block title %}Leaderboard{% endblock %}

{% block content %}
    <div class="container-fluid mt-3">
        <h1 class="text-center mb-3">Leaderboard</h1>
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>Rank</th>
                        <th>Username</th>
                        <th>Points</th>
                    </tr>
                </thead>
                <tbody>
                    {% for customer in customers %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ customer.userName }}</td>
                        <td>{{ customer.points }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <p id="clock"></p> <!-- Paragraph tag to hold the clock output -->
    </div>

    <script>
        // Function to display the current time
        function displayTime() {
            var date = new Date();
            var hours = date.getHours();
            var minutes = date.getMinutes();
            var seconds = date.getSeconds();
            var ampm = hours >= 12 ? 'PM' : 'AM';

            // Convert hours to 12 hour format
            hours = hours % 12;
            hours = hours ? hours : 12;

            // Add leading zeros to minutes and seconds if needed
            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;

            // Output the current time to the clock paragraph element
            var timeString = hours + ':' + minutes + ':' + seconds + ' ' + ampm;
            document.getElementById('clock').innerHTML = timeString;
        }

        // Call the displayTime function every second to update the clock
        setInterval(displayTime, 1000);
    </script>
{% endblock %}